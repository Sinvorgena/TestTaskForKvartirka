(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{163:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),i=a(20),o=a.n(i),n=(a(63),a(64),a(50).create({baseURL:"https://api.nasa.gov/neo/rest/v1/"})),d={Asteroid:{getAsteroid:function(e,t){return n.get("feed?api_key=q7EZGNZYBD9g3jNUvz7PsIHX2U9gGtGgRgSL4ziQ&start_date=".concat(e,"&end_date=").concat(t))}}};window.Api=d,window.token="";var c=a(51),m=a(52),l=a(58),u=a(57),_=a(8),g=a(6),j=a(14),h="SET_ASTEROID_DATA",p="TOOGLE_API_IS_PENDING",b={asteroidData:[],dangerousAsteroidData:[],maxToMinSizeSort:!1,requestIsPending:!1},A=function(e){return{type:p,bollean:e}};window.AsteroidsDefaulState=b;var O=a(2),x=a.n(O),D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAwCAYAAABE1blzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAP2SURBVHgB1Vr/ddowEP7a1/9LJ4g6Qdkg6gRNJ4g3SDaATkA2MBskG5ANSCeATgCdoNU9657OQkKSY0B8792zLUtCp/upM8D1ozG0NvTP0MZQa0jxyw+4DmhL39AtfmLbJ+JeYmvop6E3VA5laIVOOjHaGZoZujF0i06KLM1JzRJU6Jij697Qi6FXe7+3ff7iUEok0bUd94iK8QwnCSXa77znEB7s2GdUCgWngkq038GpZcj2qK0xtIDbnCoRk4BGeOHE2Bwd4z0b/YQ6oezVt69XQ1/gbJAwRbcRcsxbZHw1YM/5I9GvgZMaOZZbXAnY1U8D70gdlaEnOFVsRTvZKdkgSbVKL0oL5YVPAu82OIyDawTsz1D7EfWBpUb2s8/oP7FjJmLc1t7va3Qy9/YachDE8Fd0DH2GcyxbS3/sMycI1TkZjnN+/CuBglPXKSoBxzFmboZy+LHw4lmMRhfQSZ2kg1gUzEFMkdRbb44VwpnOScGLeUbY49GicuMYzbMJzEHe9B5nRiyNomfaeZLiDcqwEPNs7HPu5owKCrSSMT67vXcxMwy31VFAUltimPrlgI9SD7gAFFyNZHeiRfD8Z1dLmUrR9RRxSCGeyh1g7EymtQvYGvoOlzK9B7RJdKqgLOY3nJdcIi+VGw1zOLVUGAayVT8Osr35pHFGKPHDQ+MQqRt7XO3NTd6SGJWxj/oWm8AS8XrHMfAPt167Rpk0F5F5JMixyIJU9lrnGJboNghXv4ByqWo46UjIDVS2X0jayYmHBE/+8RATMuPQSCN02J3jeOE3KwzxIncoQ4N0eY6ZXCMPvBaNTmIyCZfpGd+n6ja9M9gKZTgmPUbMecQQSsRZSgrOsShkSk/uUskZqkFaegze/dRRSOHwhPHuZGGNvuvN9Uo87j6jb4O0d5T91hjxPOfrdWqXCaWlBa5UpxjMUfli8EIbcT8/0l+hbDNk/9mRfo8YENtyIL3WDH2J0k5O7SKJ5nBOIGchU/SdRoxBJfqNKj3AMbWyzw3C5QDf+FVi3kfkxawp4pnQKFA4zDiorUG/ILRD3sGVpPqEfvwKlfH8StqojsUH7/agBFZAoy99kkiDcBIhvTdtwsmrYEvkOZkQNMLf0lv000AtxpzEY6bgp0OpDKVBnzEuKrFdL7x5V2L8xeoqpK5Szdj2WkFSvSRjrGbMNG+QTNe4jWPjCheAQseIZDTmTSVjDGZGJsK+t5YnB40LgmsirHoP9vmYUwjlnqGkW/5ZoMqPlTFohD2nz7j/QZPuFa4ELK0b0aYRZryBYzT33HhxxIqzIcYJSrybYSSc8gsv1yyf0K9fsu2+IF7X1IZ+oXL4oaSESksnUfwHfPnm1vazqFcAAAAASUVORK5CYII=",f=a.p+"static/media/1476.d95253fd.png",S=a.p+"static/media/cosmos-background.4a06c329.jpg",v=a(22),w=a.n(v),B=a(0),y=Object(_.b)((function(e){return{requestIsPending:e.Asteroids.requestIsPending}}),{})((function(e){return Object(B.jsx)(B.Fragment,{children:e.requestIsPending?Object(B.jsxs)("div",{className:w.a.PreloaderBox,children:[Object(B.jsx)("div",{className:w.a.PreloaderBackground}),Object(B.jsx)("div",{className:w.a.PreloaderImgBox,style:{backgroundImage:"url(".concat(S,")")},children:Object(B.jsx)("img",{src:f,alt:""})})]}):""})})),N=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).getAsteroids=function(){e.addDayToDate(1),e.startWith=e.getCurrentFormatDate(),e.endWith=e.getCurrentFormatDate(),e.props.setHouseData(e.startWith,e.endWith,e.state.dangerousSort)},e.getAsteroidsByScroll=function(){window.scrollY>document.documentElement.scrollHeight-window.visualViewport.height-50&&(e.countOfScroll++,e.countOfScroll%8!=0||e.props.requestIsPending||(console.log("fsdffs"),e.getAsteroids()))},e.asteroidComponentMapOnData=function(e){return Object(B.jsxs)("div",{className:x.a.AsteroidBox,id:e.id,style:{backgroundSize:"".concat((e.estimated_diameter.meters.estimated_diameter_max+e.estimated_diameter.meters.estimated_diameter_min)/2/75*10,"%")},children:[Object(B.jsx)("p",{children:e.name.slice(e.name.indexOf("(")+1,e.name.length-1)}),Object(B.jsxs)("p",{className:x.a.testBorder,children:[Object(B.jsx)("span",{className:x.a.test1,children:"\u0414\u0430\u0442\u0430"}),Object(B.jsx)("span",{className:x.a.test2}),Object(B.jsx)("span",{className:x.a.test3,children:e.close_approach_data[0].close_approach_date})]}),Object(B.jsxs)("p",{children:["\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435:",new Intl.NumberFormat("ru-RU").format(Math.ceil(e.close_approach_data[0].miss_distance.kilometers))," \u041a\u043c"]}),Object(B.jsxs)("p",{children:["\u0420\u0430\u0437\u043c\u0435\u0440 ",Math.ceil((e.estimated_diameter.meters.estimated_diameter_max+e.estimated_diameter.meters.estimated_diameter_min)/2)," \u041c"]}),Object(B.jsxs)("p",{children:["\u041e\u0446\u0435\u043d\u043a\u0430: ",e.is_potentially_hazardous_asteroid?"\u043e\u043f\u0430\u0441\u0435\u043d":"\u043d\u0435 \u043e\u043f\u0430\u0441\u0435\u043d"]}),Object(B.jsx)("button",{children:"\u041d\u0430 \u0443\u043d\u0438\u0447\u0442\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(B.jsx)("img",{src:D,alt:""})]})},e.countOfScroll=0,e.now=new Date,e.startWith=0,e.endWith=0,e.getCurrentFormatDate=function(){return"".concat(e.now.getFullYear(),"-").concat(e.now.getMonth()<9?"0"+(e.now.getMonth()+1):e.now.getMonth()+1,"-").concat(e.now.getDate()<10?"0"+e.now.getDate():e.now.getDate())},e.addDayToDate=function(t){e.now.getDate(e.now.setDate(e.now.getDate()+t))},e.state={asteroidField:e.props.asteroidData.map((function(e){return Object(B.jsxs)("div",{className:x.a.AsteroidBox,id:e.id,style:{backgroundSize:"".concat((e.estimated_diameter.meters.estimated_diameter_max+e.estimated_diameter.meters.estimated_diameter_min)/2/75*10,"%")},children:[Object(B.jsx)("p",{children:e.name.slice(e.name.indexOf("(")+1,e.name.length-1)}),Object(B.jsxs)("p",{className:x.a.testBorder,children:[Object(B.jsx)("span",{className:x.a.test1,children:"\u0414\u0430\u0442\u0430"}),Object(B.jsx)("span",{className:x.a.test2}),Object(B.jsx)("span",{className:x.a.test3,children:e.close_approach_data[0].close_approach_date})]}),Object(B.jsxs)("p",{children:["\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435:",new Intl.NumberFormat("ru-RU").format(e.close_approach_data[0].miss_distance.kilometers)]}),Object(B.jsxs)("p",{children:["\u0420\u0430\u0437\u043c\u0435\u0440 ",(e.estimated_diameter.meters.estimated_diameter_max+e.estimated_diameter.meters.estimated_diameter_min)/2]}),Object(B.jsxs)("p",{children:["\u041e\u0446\u0435\u043d\u043a\u0430: ",e.is_potentially_hazardous_asteroid?"\u043e\u043f\u0430\u0441\u0435\u043d":"\u043d\u0435 \u043e\u043f\u0430\u0441\u0435\u043d"]}),Object(B.jsx)("button",{children:"\u041d\u0430 \u0443\u043d\u0438\u0447\u0442\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(B.jsx)("img",{src:D,alt:""})]})})),dangerousAsteroidField:e.props.dangerousAsteroidData.map((function(e){return Object(B.jsxs)("div",{className:x.a.AsteroidBox,id:e.id,style:{backgroundSize:"".concat((e.estimated_diameter.meters.estimated_diameter_max+e.estimated_diameter.meters.estimated_diameter_min)/2/75*10,"%")},children:[Object(B.jsx)("p",{children:e.name.slice(e.name.indexOf("(")+1,e.name.length-1)}),Object(B.jsxs)("p",{className:x.a.testBorder,children:[Object(B.jsx)("span",{className:x.a.test1,children:"\u0414\u0430\u0442\u0430"}),Object(B.jsx)("span",{className:x.a.test2}),Object(B.jsx)("span",{className:x.a.test3,children:e.close_approach_data[0].close_approach_date})]}),Object(B.jsxs)("p",{children:["\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435:",new Intl.NumberFormat("ru-RU").format(e.close_approach_data[0].miss_distance.kilometers)]}),Object(B.jsxs)("p",{children:["\u0420\u0430\u0437\u043c\u0435\u0440 ",(e.estimated_diameter.meters.estimated_diameter_max+e.estimated_diameter.meters.estimated_diameter_min)/2]}),Object(B.jsxs)("p",{children:["\u041e\u0446\u0435\u043d\u043a\u0430: ",e.is_potentially_hazardous_asteroid?"\u043e\u043f\u0430\u0441\u0435\u043d":"\u043d\u0435 \u043e\u043f\u0430\u0441\u0435\u043d"]}),Object(B.jsx)("button",{children:"\u041d\u0430 \u0443\u043d\u0438\u0447\u0442\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(B.jsx)("img",{src:D,alt:""})]})})),dangerousSort:null},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.startWith=this.getCurrentFormatDate(),console.log(this.startWith),this.endWith=this.getCurrentFormatDate(),console.log(this.endWith),this.props.setHouseData(this.startWith,this.endWith,this.state.dangerousSort)}},{key:"componentDidUpdate",value:function(e,t,a){var s=this;!this.props.asteroidData.length||t.asteroidField.length==this.props.asteroidData.length&&e.asteroidData[e.asteroidData.length-1].id==this.props.asteroidData[this.props.asteroidData.length-1].id&&t.dangerousSort==this.state.dangerousSort||this.setState({asteroidField:this.props.asteroidData.sort((function(e,t){return e.estimated_diameter.meters.estimated_diameter_max+e.estimated_diameter.meters.estimated_diameter_min>t.estimated_diameter.meters.estimated_diameter_max+t.estimated_diameter.meters.estimated_diameter_min?1:e.estimated_diameter.meters.estimated_diameter_max+e.estimated_diameter.meters.estimated_diameter_min<t.estimated_diameter.meters.estimated_diameter_max+t.estimated_diameter.meters.estimated_diameter_min?-1:0})).map((function(e){return s.asteroidComponentMapOnData(e)})),dangerousAsteroidField:this.props.dangerousAsteroidData.sort((function(e,t){return e.estimated_diameter.meters.estimated_diameter_max+e.estimated_diameter.meters.estimated_diameter_min>t.estimated_diameter.meters.estimated_diameter_max+t.estimated_diameter.meters.estimated_diameter_min?1:e.estimated_diameter.meters.estimated_diameter_max+e.estimated_diameter.meters.estimated_diameter_min<t.estimated_diameter.meters.estimated_diameter_max+t.estimated_diameter.meters.estimated_diameter_min?-1:0})).map((function(e){return s.asteroidComponentMapOnData(e)}))}),console.log(t),console.log(this.props)}},{key:"render",value:function(){var e=this;return window.addEventListener("scroll",this.getAsteroidsByScroll),console.log(this.state.asteroidField),Object(B.jsxs)("div",{children:[Object(B.jsx)(y,{}),Object(B.jsxs)("div",{children:[Object(B.jsx)("input",{type:"checkbox",onChange:function(){null==e.state.dangerousSort?e.setState({dangerousSort:!0}):!0===e.state.dangerousSort?e.setState({dangerousSort:!1}):e.setState({dangerousSort:!0})}}),"Sort by dangerous",Object(B.jsx)("button",{onClick:function(){e.getAsteroids()},children:"Getget"}),Object(B.jsx)("button",{className:x.a.toogleSortByDistanceBtn,onClick:function(e){e.currentTarget.classList.contains("".concat(x.a.active))?e.currentTarget.classList.remove("".concat(x.a.active)):e.currentTarget.classList.add("".concat(x.a.active)),console.log(e.currentTarget.classList)},children:"\u0412 \u043a\u0438\u043b\u043e\u043c\u0435\u0442\u0440\u0430\u0445"}),Object(B.jsx)("button",{className:x.a.toogleSortByDistanceBtn,onClick:function(e){e.currentTarget.classList.contains("".concat(x.a.active))?e.currentTarget.classList.remove("".concat(x.a.active)):e.currentTarget.classList.add("".concat(x.a.active)),console.log(e.currentTarget.classList)},children:"\u0412 \u0434\u0438\u0441\u0442\u0430\u043d\u0446\u0438\u044f\u0445 \u0434\u043e \u043b\u0443\u043d\u044b"})]}),this.state.dangerousSort?this.state.dangerousAsteroidField:this.props.asteroidData.length?this.state.asteroidField:"None"]})}}]),a}(r.a.Component);window.Asteroids=N;var k=Object(_.b)((function(e){return{asteroidData:e.Asteroids.asteroidData,now:e.Asteroids.now,maxToMinSizeSort:e.Asteroids.maxToMinSizeSort,dangerousSort:e.Asteroids.dangerousSort,dangerousAsteroidData:e.Asteroids.dangerousAsteroidData,requestIsPending:e.Asteroids.requestIsPending}}),{setHouseData:function(e,t,a){return function(a){a(A(!0)),d.Asteroid.getAsteroid(e,t).then((function(e){var t=[];for(var s in e.data.near_earth_objects)t=[].concat(Object(g.a)(t),Object(g.a)(e.data.near_earth_objects[s].map((function(e){return e}))));var r=t.filter((function(e){if(e.is_potentially_hazardous_asteroid)return e}));a(function(e,t){return{type:h,asteroidData:e,dangerousAsteroidData:t}}(t,r)),a(A(!1)),console.log(t)}))}}})(N);var P=function(){return Object(B.jsx)("div",{className:"App",children:Object(B.jsx)(k,{})})},I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,166)).then((function(t){var a=t.getCLS,s=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),s(e),r(e),i(e),o(e)}))},F=a(9),M=a(54),T=a(165),U=Object(F.c)({Asteroids:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(j.a)(Object(j.a)({},e),{},{asteroidData:[].concat(Object(g.a)(e.asteroidData),Object(g.a)(t.asteroidData)),dangerousAsteroidData:[].concat(Object(g.a)(e.dangerousAsteroidData),Object(g.a)(t.dangerousAsteroidData))});case p:return Object(j.a)(Object(j.a)({},e),{},{requestIsPending:t.bollean});default:return e}},form:T.a}),z=Object(F.d)(U,Object(F.a)(M.a));window.store=z;var L=z;o.a.render(Object(B.jsx)(r.a.StrictMode,{children:Object(B.jsx)(_.a,{store:L,children:Object(B.jsx)(P,{})})}),document.getElementById("root")),I()},2:function(e,t,a){e.exports={AsteroidBox:"Asteroids_AsteroidBox__wL8Wu",testBorder:"Asteroids_testBorder__Poh0Y",test2:"Asteroids_test2__2tbyz",test1:"Asteroids_test1__hcWVA",test3:"Asteroids_test3__1BHGB",toogleSortByDistanceBtn:"Asteroids_toogleSortByDistanceBtn__3UbNs",active:"Asteroids_active__iOmkM"}},22:function(e,t,a){e.exports={PreloaderBox:"Preloader_PreloaderBox__16edD",PreloaderBackground:"Preloader_PreloaderBackground__D4Kw_",PreloaderImgBox:"Preloader_PreloaderImgBox__24jKv"}},63:function(e,t,a){},64:function(e,t,a){}},[[163,1,2]]]);
//# sourceMappingURL=main.f0d84e1b.chunk.js.map